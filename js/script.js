"use strict";fetch("./data/products.json").then(function(t){return t.json()}).then(function(t){var r=document.getElementsByClassName("product__list")[0],a=document.querySelector(".product__category-filter").querySelectorAll("button"),n=t;function c(t){r.innerHTML="",t.forEach(function(c,t){var e=document.createElement("li");e.className="product__item";var a=c.options.size.map(function(t,e){return'<option value="'.concat(e,'">').concat(t.label,"</option>")}).join("");e.innerHTML='\n        <a href="'.concat(c.link,'">\n          <div class="product__item-img">\n              <img src="').concat(c.image,'" alt="').concat(c.name,'" />\n          </div>\n          <div class="product__item-info">\n            <h3 class="product__item-name">').concat(c.name,'</h3>\n            <p class="product__item-desc">').concat(c.description,'</p>\n            <div class="product__item-option">\n              <select name="size">').concat(a,'</select>\n            </div>\n            <div class="product__item-price">₩<span class="price_value">').concat(c.options.size[0].price.toLocaleString(),'</span></div>\n          </div>\n        </a>\n        <button class="product__item-cart-add flat-btn flat-btn--dark">장바구니 담기</button>\n      '),r.appendChild(e),setTimeout(function(){e.classList.add("show")},100*t);var o=e.querySelector("select[name='size']"),n=e.querySelector(".price_value");o.addEventListener("change",function(t){var e=c.options.size[+t.target.value];n.textContent=e.price.toLocaleString()}),e.querySelector(".product__item-cart-add").addEventListener("click",function(){var t=+o.value,e=c.options.size[t],a={name:c.name,size:e.label,price:e.price,image:c.image,quantity:1},n=JSON.parse(localStorage.getItem("cart"))||[],r=n.find(function(t){return t.name===a.name&&t.size===a.size});r?r.quantity+=1:n.push(a),localStorage.setItem("cart",JSON.stringify(n)),renderCart(),openCartDrawer()})})}c(n),a.forEach(function(t){t.addEventListener("click",function(){a.forEach(function(t){return t.classList.remove("active")}),t.classList.add("active");var e=t.dataset.category;c("all"===e?n:n.filter(function(t){return t.category===e}))})})});var cartContainer=document.querySelector(".cart__list"),cartTotal=document.querySelector(".cart__total"),checkoutBtn=document.querySelector(".cart__checkout-button"),cartNum=document.querySelectorAll(".cart__total-num");function renderCart(){var t=JSON.parse(localStorage.getItem("cart"))||[];cartContainer.innerHTML="";var n=0;if(0===t.length)return cartContainer.innerHTML='<li class="cart__item-empty">장바구니가 비어 있어요.</li>',cartTotal.textContent="",checkoutBtn.style.display="none",void cartNum.forEach(function(t){t.style.display="none"});var e=t.reduce(function(t,e){return t+e.quantity},0);document.querySelectorAll(".cart__total-num").forEach(function(t){t.textContent="".concat(e),t.style.display="block"}),t.forEach(function(t,e){var a=document.createElement("li");a.className="cart__item",a.innerHTML='\n      <div class="cart__item-img">\n        <img src="'.concat(t.image,'" alt="').concat(t.name,'" />\n      </div>\n      <div class="cart__item-info">\n        <h4 class="cart__item-name">').concat(t.name,'</h4>\n        <p class="cart__item-option">사이즈: ').concat(t.size,'</p>\n        <p class="cart__item-price">₩').concat(t.price.toLocaleString(),'</p>\n      </div>\n      <div class="cart__item-actions">\n        <button class="cart__item-remove" data-index="').concat(e,'">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.33301 7.33301V10.6663M2.66634 3.99967H13.333L12.2797 13.4797C12.2436 13.8059 12.0884 14.1074 11.8438 14.3263C11.5993 14.5453 11.2826 14.6664 10.9543 14.6663H5.04501C4.71676 14.6664 4.40005 14.5453 4.15551 14.3263C3.91096 14.1074 3.75578 13.8059 3.71967 13.4797L2.66634 3.99967ZM4.89634 2.09767C5.00418 1.86899 5.17481 1.67567 5.38834 1.54028C5.60188 1.40489 5.8495 1.333 6.10234 1.33301H9.89701C10.15 1.33288 10.3977 1.40471 10.6114 1.5401C10.8251 1.6755 10.9958 1.86888 11.1037 2.09767L11.9997 3.99967H3.99967L4.89634 2.09767V2.09767ZM1.33301 3.99967H14.6663H1.33301ZM6.66634 7.33301V10.6663V7.33301Z" stroke="black" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"></path></svg>\n        </button>\n        <div class="cart__item-quantity">\n          <button class="cart__qty-btn dec" data-index="').concat(e,'">-</button>\n          <span class="cart__qty">').concat(t.quantity,'</span>\n          <button class="cart__qty-btn inc" data-index="').concat(e,'">+</button>\n        </div>\n      </div>\n    '),cartContainer.prepend(a),n+=t.price*t.quantity}),cartTotal.innerHTML="<span>Total</span><span>₩".concat(n.toLocaleString(),"</span>"),checkoutBtn.style.display="block"}renderCart(),cartContainer.addEventListener("click",function(t){var e=t.target.closest(".cart__qty-btn.dec");if(e){var a=+e.dataset.index,n=JSON.parse(localStorage.getItem("cart"))||[];return 1<n[a].quantity?n[a].quantity-=1:n.splice(a,1),localStorage.setItem("cart",JSON.stringify(n)),void renderCart()}var r=t.target.closest(".cart__qty-btn.inc");if(r){var c=+r.dataset.index,o=JSON.parse(localStorage.getItem("cart"))||[];return o[c].quantity+=1,localStorage.setItem("cart",JSON.stringify(o)),void renderCart()}var i=t.target.closest(".cart__item-remove");if(i){var l=+i.dataset.index,s=JSON.parse(localStorage.getItem("cart"))||[];s.splice(l,1),localStorage.setItem("cart",JSON.stringify(s)),renderCart()}});var cartDrawer=document.querySelector(".cart"),cartOverlay=document.querySelector(".cart__overlay"),cartOpenBtn=document.querySelector(".cart__open-button"),cartCloseBtn=document.querySelector(".cart__close-button"),body=document.body;function openCartDrawer(){body.classList.add("scroll-lock"),cartDrawer.style.display="flex",requestAnimationFrame(function(){cartDrawer.classList.add("active")})}function closeCartDrawer(){body.classList.remove("scroll-lock"),cartDrawer.classList.remove("active"),cartDrawer.addEventListener("transitionend",function t(e){"transform"===e.propertyName&&(cartDrawer.style.display="none",cartDrawer.removeEventListener("transitionend",t))})}cartOpenBtn.addEventListener("click",openCartDrawer),cartCloseBtn.addEventListener("click",closeCartDrawer),cartOverlay.addEventListener("click",closeCartDrawer);var mainSlider=new Swiper(".visual .swiper",{loop:!0,slidesPerView:1,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0,type:"fraction"},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}}),sliderPlayBtn=document.querySelector(".visual__slider-control-play");sliderPlayBtn.addEventListener("click",function(t){t.preventDefault,sliderPlayBtn.classList.contains("on")?(sliderPlayBtn.classList.remove("on"),mainSlider.autoplay.start()):(sliderPlayBtn.classList.add("on"),mainSlider.autoplay.stop())}),document.querySelector(".top-button").addEventListener("click",function(t){t.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})}),document.querySelectorAll("a[href='#']").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),console.log("prevented!")})});
//# sourceMappingURL=script.js.map
