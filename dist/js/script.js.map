{"version":3,"sources":["script.js"],"names":["fetch","then","res","json","products","document","getElementsByClassName","productList","querySelector","categoryList","allProducts","renderProducts","forEach","product","i","createElement","item","sizeOptions","options","size","map","s","concat","join","appendChild","link","image","name","description","price","toLocaleString","setTimeout","selectedSize","cartItem","add","priceTect","cart","push","e","localStorage","setItem","stringify","target","value","renderCart","textContent","selected","addEventListener","selectedSizeIndex","select","categoryItem","label","classList","remove","filtered","selectedCategory","getItem","p","category","JSON","openCartDrawer","cartTotal","el","dataset","checkoutBtn","totalPrice","length","cartContainer","innerHTML","cartTotalNum","querySelectorAll","parse","prepend","style","display","cartNum","num","splice","index","li","cartDrawer","cartOverlay","body","closeCartDrawer","removeBtn","closest","mainSlider","Swiper","loop","slidesPerView","pagination","clickable","type","sliderPlayBtn","requestAnimationFrame","preventDefault","handler","scrollTo","top","left","removeEventListener","cartOpenBtn","cartCloseBtn","console","autoplay","delay","disableOnInteraction","navigation","prevEl","nextEl","contains","start","stop","window","behavior","log"],"mappings":"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","file":"script.js","sourcesContent":["///// 상품 데이터 가져오기\r\nfetch(\"./data/products.json\")\r\n  .then((res) => res.json())\r\n  .then((products) => {\r\n    const productList = document.getElementsByClassName(\"product__list\")[0];\r\n    const categoryList = document.querySelector(\".product__category-filter\");\r\n    const categoryItem = categoryList.querySelectorAll(\"button\");\r\n    let allProducts = products;\r\n\r\n    function renderProducts(products) {\r\n      productList.innerHTML = \"\"; // 기존 리스트 초기화\r\n\r\n      // 상품 리스트 만들기\r\n      products.forEach((product, i) => {\r\n        const item = document.createElement(\"li\");\r\n        item.className = \"product__item\";\r\n\r\n        const sizeOptions = product.options.size\r\n          .map((s, i) => `<option value=\"${i}\">${s.label}</option>`)\r\n          .join(\"\");\r\n\r\n        item.innerHTML = `\r\n        <a href=\"${product.link}\">\r\n          <div class=\"product__item-img\">\r\n              <img src=\"${product.image}\" alt=\"${product.name}\" />\r\n          </div>\r\n          <div class=\"product__item-info\">\r\n            <h3 class=\"product__item-name\">${product.name}</h3>\r\n            <p class=\"product__item-desc\">${product.description}</p>\r\n            <div class=\"product__item-option\">\r\n              <select name=\"size\">${sizeOptions}</select>\r\n            </div>\r\n            <div class=\"product__item-price\">₩<span class=\"price_value\">${product.options.size[0].price.toLocaleString()}</span></div>\r\n          </div>\r\n        </a>\r\n        <button class=\"product__item-cart-add flat-btn flat-btn--dark\">장바구니 담기</button>\r\n      `;\r\n        productList.appendChild(item);\r\n\r\n        // 제품 순차적으로 서서히 나타나기\r\n        setTimeout(() => {\r\n          item.classList.add(\"show\");\r\n        }, i * 100);\r\n\r\n        // 옵션에 따라 가격 변경\r\n        const select = item.querySelector(\"select[name='size']\");\r\n        const priceTect = item.querySelector(\".price_value\");\r\n\r\n        select.addEventListener(\"change\", (e) => {\r\n          const selected = product.options.size[+e.target.value]; // + = parseInt() // 문자열(\"0\") -> 숫자(0)\r\n          priceTect.textContent = selected.price.toLocaleString();\r\n        });\r\n\r\n        // 장바구니 담기 버튼 클릭 시 로컬스토리지에 저장\r\n        const cartAddBtn = item.querySelector(\".product__item-cart-add\");\r\n\r\n        cartAddBtn.addEventListener(\"click\", () => {\r\n          const selectedSizeIndex = +select.value;\r\n          const selectedSize = product.options.size[selectedSizeIndex];\r\n\r\n          const cartItem = {\r\n            name: product.name,\r\n            size: selectedSize.label,\r\n            price: selectedSize.price,\r\n            image: product.image,\r\n          };\r\n\r\n          let cart = JSON.parse(localStorage.getItem(\"cart\")) || []; // JSON 문자열 -> JS 객체\r\n          cart.push(cartItem);\r\n          localStorage.setItem(\"cart\", JSON.stringify(cart)); // JS 객체 -> JSON 문자열\r\n          renderCart();\r\n          openCartDrawer();\r\n        });\r\n      });\r\n    }\r\n\r\n    // 전체 상품 렌더링\r\n    renderProducts(allProducts);\r\n\r\n    // 카테고리 필터링\r\n    categoryItem.forEach((item) => {\r\n      item.addEventListener(\"click\", () => {\r\n        categoryItem.forEach((el) => el.classList.remove(\"active\"));\r\n        item.classList.add(\"active\");\r\n\r\n        const selectedCategory = item.dataset.category;\r\n        const filtered =\r\n          selectedCategory === \"all\"\r\n            ? allProducts\r\n            : allProducts.filter((p) => p.category === selectedCategory);\r\n\r\n        renderProducts(filtered);\r\n      });\r\n    });\r\n  });\r\n\r\n///// 장바구니\r\nconst cartContainer = document.querySelector(\".cart__list\");\r\nconst cartTotal = document.querySelector(\".cart__total\");\r\nconst checkoutBtn = document.querySelector(\".cart__checkout-button\");\r\nconst cartNum = document.querySelectorAll(\".cart__total-num\");\r\n\r\n// 장바구니 렌더링\r\nfunction renderCart() {\r\n  const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n\r\n  // 초기화\r\n  cartContainer.innerHTML = \"\";\r\n  let totalPrice = 0;\r\n\r\n  if (cart.length === 0) {\r\n    cartContainer.innerHTML = `<li class=\"cart__item-empty\">장바구니가 비어 있어요.</li>`;\r\n    cartTotal.textContent = \"\";\r\n    checkoutBtn.style.display = \"none\";\r\n\r\n    cartNum.forEach((num) => {\r\n      num.style.display = \"none\";\r\n    });\r\n\r\n    return;\r\n  }\r\n\r\n  // 총 상품 수량\r\n  const cartTotalNum = cart.length;\r\n  document.querySelectorAll(\".cart__total-num\").forEach((num) => {\r\n    num.textContent = `${cartTotalNum}`;\r\n    num.style.display = \"block\";\r\n  });\r\n\r\n  cart.forEach((item, index) => {\r\n    const li = document.createElement(\"li\");\r\n    li.className = \"cart__item\";\r\n    li.innerHTML = `\r\n      <div class=\"cart__item-content\">\r\n        <div class=\"cart__item-img\">\r\n          <img src=\"${item.image}\" alt=\"${item.name}\" />\r\n        </div>\r\n        <div class=\"cart__item-text\">\r\n          <h4 class=\"cart__item-name\">${item.name}</h4>\r\n          <p class=\"cart__item-option\">사이즈: ${item.size}</p>\r\n          <p class=\"cart__item-price\">₩${item.price.toLocaleString()}</p>\r\n        </div>\r\n      </div>\r\n      <button class=\"cart__item-remove\" data-index=\"${index}\">\r\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.33301 7.33301V10.6663M2.66634 3.99967H13.333L12.2797 13.4797C12.2436 13.8059 12.0884 14.1074 11.8438 14.3263C11.5993 14.5453 11.2826 14.6664 10.9543 14.6663H5.04501C4.71676 14.6664 4.40005 14.5453 4.15551 14.3263C3.91096 14.1074 3.75578 13.8059 3.71967 13.4797L2.66634 3.99967ZM4.89634 2.09767C5.00418 1.86899 5.17481 1.67567 5.38834 1.54028C5.60188 1.40489 5.8495 1.333 6.10234 1.33301H9.89701C10.15 1.33288 10.3977 1.40471 10.6114 1.5401C10.8251 1.6755 10.9958 1.86888 11.1037 2.09767L11.9997 3.99967H3.99967L4.89634 2.09767V2.09767ZM1.33301 3.99967H14.6663H1.33301ZM6.66634 7.33301V10.6663V7.33301Z\" stroke=\"black\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg>\r\n      </button>\r\n    `;\r\n    cartContainer.prepend(li);\r\n\r\n    totalPrice += item.price; // 총 금액에 가격 추가\r\n  });\r\n\r\n  cartTotal.innerHTML = `<span>Total</span><span>₩${totalPrice.toLocaleString()}</span>`;\r\n  checkoutBtn.style.display = \"block\"; // 상품이 있으면 버튼 보임\r\n}\r\n\r\nrenderCart();\r\n\r\n// 장바구니 제품 삭제\r\n// 삭제 버튼은 동적으로 생성되기 때문에 리스트 전체에 등록하고,\r\n// 그 안에 클릭된 요소가 삭제 버튼인지 확인\r\ncartContainer.addEventListener(\"click\", (e) => {\r\n  const removeBtn = e.target.closest(\".cart__item-remove\");\r\n  if (removeBtn) {\r\n    const index = +removeBtn.dataset.index;\r\n    let cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n    cart.splice(index, 1);\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    renderCart();\r\n  }\r\n});\r\n\r\n// 장바구니 여닫기\r\nconst cartDrawer = document.querySelector(\".cart\");\r\nconst cartOverlay = document.querySelector(\".cart__overlay\");\r\nconst cartOpenBtn = document.querySelector(\".cart__open-button\");\r\nconst cartCloseBtn = document.querySelector(\".cart__close-button\");\r\nconst body = document.body;\r\n\r\ncartOpenBtn.addEventListener(\"click\", openCartDrawer);\r\ncartCloseBtn.addEventListener(\"click\", closeCartDrawer);\r\ncartOverlay.addEventListener(\"click\", closeCartDrawer);\r\n\r\n// 열기\r\nfunction openCartDrawer() {\r\n  body.classList.add(\"scroll-lock\");\r\n  cartDrawer.style.display = \"flex\";\r\n\r\n  requestAnimationFrame(() => {\r\n    cartDrawer.classList.add(\"active\");\r\n  });\r\n}\r\n\r\n// 닫기\r\nfunction closeCartDrawer() {\r\n  body.classList.remove(\"scroll-lock\");\r\n  cartDrawer.classList.remove(\"active\");\r\n\r\n  // 트랜지션 끝난 후 실행\r\n  cartDrawer.addEventListener(\"transitionend\", function handler(e) {\r\n    if (e.propertyName === \"transform\") {\r\n      cartDrawer.style.display = \"none\";\r\n      cartDrawer.removeEventListener(\"transitionend\", handler);\r\n    }\r\n    //console.log(e.propertyName);\r\n  });\r\n}\r\n\r\n///// Main Slider\r\nconst mainSlider = new Swiper(\".visual .swiper\", {\r\n  //direction: 'vertical',\r\n  loop: true,\r\n  slidesPerView: 1,\r\n  autoplay: {\r\n    delay: 3000,\r\n    disableOnInteraction: false, //컨트롤 후에도 autoplay 작동\r\n  },\r\n\r\n  pagination: {\r\n    el: \".swiper-pagination\",\r\n    clickable: true,\r\n    type: \"fraction\",\r\n  },\r\n\r\n  navigation: {\r\n    prevEl: \".swiper-button-prev\",\r\n    nextEl: \".swiper-button-next\",\r\n  },\r\n});\r\n\r\n// 멈춤, 재생\r\nconst sliderPlayBtn = document.querySelector(\".visual__slider-control-play\");\r\n\r\nsliderPlayBtn.addEventListener(\"click\", (e) => {\r\n  e.preventDefault;\r\n\r\n  if (sliderPlayBtn.classList.contains(\"on\")) {\r\n    sliderPlayBtn.classList.remove(\"on\");\r\n    mainSlider.autoplay.start();\r\n  } else {\r\n    sliderPlayBtn.classList.add(\"on\");\r\n    mainSlider.autoplay.stop();\r\n  }\r\n});\r\n\r\n///// 탑 버튼\r\ndocument.querySelector(\".top-button\").addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n\r\n  window.scrollTo({\r\n    top: 0,\r\n    left: 0,\r\n    behavior: \"smooth\",\r\n  });\r\n});\r\n\r\n///// 빈 링크 클릭 방지\r\ndocument.querySelectorAll(\"a[href='#']\").forEach((el) => {\r\n  el.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    console.log(\"prevented!\");\r\n  });\r\n});\r\n"]}